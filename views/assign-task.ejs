<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>기술지원팀</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/css/select2.min.css">
    <link rel="stylesheet" href="stylesheets/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/js/select2.min.js"></script>

    <style type="text/css">
        .ticket-section {
            border-radius: 5px;
            border-style : solid;
            border-width : 1px;
            border-color: #5BC0DE;
            margin : 5px;
            padding : 5px;
            background-color: rgba(91, 192, 222, 0.1);
            overflow: auto;
        }

        .img-face {
            width : 60px;
            height : 60px;
        }
    </style>

    <script type="text/javascript">
        var domain = 'http://' + window.location.host;
        function init() {

            // 직원
            $("<option></option>", {value: "ys.kim@clipsoft.co.kr", text: "김양수"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kkhong@clipsoft.co.kr", text: "김기홍"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "dhnam@clipsoft.co.kr", text: "남도현"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "hsson@clipsoft.co.kr", text: "손현성"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kdyu04@clipsoft.co.kr", text: "김대훈"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "pjh@clipsoft.co.kr", text: "박정현"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "bjsung@clipsoft.co.kr", text: "성봉주"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "jsw@clipsoft.co.kr", text: "전승우"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "jin8483@clipsoft.co.kr", text: "진선엽"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "cjhan@clipsoft.co.kr", text: "한창진"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "jchong@clipsoft.co.kr", text: "홍지철"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "suk@clipsoft.co.kr", text: "김숙정"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kosong@clipsoft.co.kr", text: "송경오"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "skelro9@clipsoft.co.kr", text: "정경오"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "neolord@clipsoft.co.kr", text: "박성균"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "ryubc@clipsoft.co.kr", text: "유병창"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "chlee@clipsoft.co.kr", text: "이창훈"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "lhi0828@clipsoft.co.kr", text: "이현일"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "swjang@clipsoft.co.kr", text: "장순우"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "glory46@clipsoft.co.kr", text: "강성웅"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "hhshin@clipsoft.co.kr", text: "신현화"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "sccho@clipsoft.co.kr", text: "조성철"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "jugun@clipsoft.co.kr", text: "주건"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "akdlsem0@clipsoft.co.kr", text: "권영석"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kyk234@clipsoft.co.kr", text: "김우겸"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kjh@clipsoft.co.kr", text: "김종훈"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "hysung@clipsoft.co.kr", text: "성해용"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "sj0807@clipsoft.co.kr", text: "손진"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "sunny@clipsoft.co.kr", text: "손현선"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "irae@clipsoft.co.kr", text: "이래석"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "maketool@clipsoft.co.kr", text: "이수호"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "tablo@clipsoft.co.kr", text: "이영우"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "ehlee@clipsoft.co.kr", text: "이응호"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "tjgus0331@clipsoft.co.kr", text: "정상우"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "joyw@clipsoft.co.kr", text: "조연욱"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "jihun@clipsoft.co.kr", text: "조지훈"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "chohanna@clipsoft.co.kr", text: "조한나"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "higq@clipsoft.co.kr", text: "황일기"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "onsugo@clipsoft.co.kr", text: "김기호"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kmj@clipsoft.co.kr", text: "김민주"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kimyk@clipsoft.co.kr", text: "김윤기"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "psy0820@clipsoft.co.kr", text: "박소윤"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "lshuria@clipsoft.co.kr", text: "신종진"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "djyou@clipsoft.co.kr", text: "유달재"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "ryuwy@clipsoft.co.kr", text: "유운용"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "cs@clipsoft.co.kr", text: "이창섭"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "ice3x2@clipsoft.co.kr", text: "홍성범"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "pakbg90@clipsoft.co.kr", text: "박병국"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "lacris@clipsoft.co.kr", text: "양경규"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "lkj91@clipsoft.co.kr", text: "이경주"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "3767sky@clipsoft.co.kr", text: "이기환"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "soultomind@clipsoft.co.kr", text: "이바우"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "jjh1302@clipsoft.co.kr", text: "장주홍"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "dyjeon@clipsoft.co.kr", text: "전대영"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "hmj@clipsoft.co.kr", text: "황민재"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kdh19911031@clipsoft.co.kr", text: "김동현"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "rnlauf@clipsoft.co.kr", text: "김장훈"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "hope90@clipsoft.co.kr", text: "김진현"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "khs5786@clipsoft.co.kr", text: "김현수"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "psh98@clipsoft.co.kr", text: "박소희"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "uhds@clipsoft.co.kr", text: "어다슬"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "dojin@clipsoft.co.kr", text: "왕도진"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "kkllee1205@clipsoft.co.kr", text: "이민섭"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "jelee@clipsoft.co.kr", text: "이주은"}).appendTo("[id='leader'],[id='followers']");
            $("<option></option>", {value: "jh616@clipsoft.co.kr", text: "전훈"}).appendTo("[id='leader'],[id='followers']");

            $("[id='leader'],[id='followers']").select2({width: '100%'});
        }

        $(document).ready(function () {
            init();
            $('#button-register').click(function () {
                var task = {};
                task.ticekt = {};
                task.ticekt.id = '<%=ticket._id%>';
                task.leader = $('#leader').val();
                task.followers = $('#followers').val() || [];
                task.date = $('#date').val();
                task.message = $('#message').val();

                alert(JSON.stringify(task));
                $.post(domain + '/rest/api/task', task).then(function (result) {
                    if (result.result === "ok") {
                    }
                });
            });
        });
    </script>

</head>
<body>
<div class="container">
    <div class="jumbotron">
        <h2>TSA</h2>
        <p>“The bird fights its way out of the egg. The egg is the world. Who would be born must first destroy a world. The bird flies to God. That God's name is Abraxas.”
            ― Hermann Hesse, Demian. Die Geschichte von Emil Sinclairs Jugend</p>
    </div>
    <div class="page-header">
        <a id="home">등록</a>
        <a id="search">검색</a>
        <a id="statistics">통계</a>
        <h3>작업 할당</h3>
    </div>
    <div class="row">
        <div class="ticket-section">
            <div class="col-md-1">
                <img src="./images/ryubc@clipsoft.co.kr.jpeg" class="img-circle img-responsive img-face" alt="" />
            </div>
            <div class="col-md-11">
                <div>
                    <b><a href="#"><%=ticket.project.name%></a></b> 프로젝트 <a><b>[<%=ticket.type.name%>]</b></a> 부탁드립니다.
                    <div class="mic-info">
                        By: <a href="#"><%=ticket.publisher.name%></a> on <span class="badge"><%=ticket.issuedate%></span>
                    </div>
                </div>
                <div class="comment-text"><%=ticket.message%></div>
            </div>
        </div>
    </div>
    <div class="row">
        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#assign">작업 할당</a></li>
        </ul>

        <div class="tab-content">
            <!--  설치 -->
            <div id="assign" class="tab-pane fade in active">
                <div class="row">
                    <form>
                        <div class="form-group">
                            <label>담당자(필수)</label>
                            <select class="form-control" id="leader">
                            </select>
                            <small class="form-text text-muted">* 제품 설치를 하는 기술부 직원을 선택합니다.</small>
                        </div>
                        <div class="form-group">
                            <label>동행자</label>
                            <select class="form-control" multiple="multiple" id="followers">
                            </select>
                            <small class="form-text text-muted">* 여러명을 선택할 수 있습니다.</small>
                        </div>
                        <div class="form-group">
                            <label>지원 날짜</label>
                            <input type="date" class="form-control" id="date" placeholder="2017-08-09">
                        </div>
                        <div class="form-group">
                            <label>메시지</label>
                            <textarea class="form-control" id="message" rows="8"
                                      placeholder="메시지를 남겨주세요."></textarea>
                        </div>
                        <button type="button" id="button-register" class="btn btn-primary">등록</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</body>
</html>